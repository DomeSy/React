React的请求放在哪个生命周期中
1React的异步请求到底应该放在哪个生命周期里,有人认为在componentWillMount中可以提前进行异步请求,避免白屏,其实这个观点是有问题的.
2由于JavaScript中异步事件的性质，当您启动API调用时，浏览器会在此期间返回执行其他工作。
3当React渲染一个组件时，它不会等待componentWillMount它完成任何事情 - React继续前进并继续render,没有办法“暂停”渲染以等待数据到达。
4而且在componentWillMount请求会有一系列潜在的问题,
a.首先,在服务器渲染时,如果在 componentWillMount 里获取数据，fetch data会执行两次，一次在服务端一次在客户端，这造成了多余的请求
b.其次,在React 16进行React Fiber重写后,componentWillMount可能在一次渲染中多次调用.
5目前官方推荐的异步请求是在componentDidmount中进行.
6如果有特殊需求需要提前请求,也可以在特殊情况下在constructor中请求
7react 17之后componentWillMount会被废弃,仅仅保留UNSAFE_componentWillMount
